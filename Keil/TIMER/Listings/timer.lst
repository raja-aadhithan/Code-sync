A51 MACRO ASSEMBLER  TIMER                                                                10/27/2020 11:44:04 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\timer.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE timer.asm SET(SMALL) DEBUG PRINT(.\Listings\timer.lst) OBJECT(.\Objects
                      \timer.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; 250 us DELAY
                       2     ; 250 us / 1.085 us = 230 and 65536 – 230 = 65306 
                       3     ; 65306 which in hex is FF1A H
                       4     ; TL = 1A and TH = FF
0000                   5                     ORG 0000H
0000 759000            6                     MOV  P1  , #00H ; Clearing the Port
0003 758910            7                     MOV  TMOD, #10H ; Timer 1 , Mod 1
0006 758B1A            8       AGAIN:MOV  TL1 , #1AH ; Lower byte
0009 758DFF            9                     MOV  TH1 ,#0FFH ; Higher byte
000C D28E             10                     SETB TR1                ; Start timer
000E 308FFD           11        BACK:JNB  TF1 ,BACK  ; Check timer status
0011 C28E             12                     CLR  TR1                ; Stop timer
0013 B295             13                     CPL  P1.5               ; Compliment bit
0015 C28F             14                     CLR  TF1                ; Reset flag
0017 80ED             15                     SJMP AGAIN              ; Reload
                      16                     END
A51 MACRO ASSEMBLER  TIMER                                                                10/27/2020 11:44:04 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AGAIN. . . . . . .  C ADDR   0006H   A   
BACK . . . . . . .  C ADDR   000EH   A   
P1 . . . . . . . .  D ADDR   0090H   A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TH1. . . . . . . .  D ADDR   008DH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR1. . . . . . . .  B ADDR   0088H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
