A51 MACRO ASSEMBLER  TIMER                                                                10/27/2020 12:04:03 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\Timer.obj
ASSEMBLER INVOKED BY: C:\Keil_v5\C51\BIN\A51.EXE Timer Auto\Timer.asm SET(SMALL) DEBUG PRINT(.\Listings\Timer.lst) OBJEC
                      T(.\Objects\Timer.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ; 4 SEC delay using mode 2 timer 0
                       2     ; TH = 0 implies 256
                       3     ; 4 SEC / 256*1.085 = 14400
                       4     ; 14400 = 144 *100
                       5     
0000                   6                             ORG 0000H
0000 758902            7                             MOV TMOD , #02H ; TIMER 0 MODE 2
0003 758C00            8                             MOV TH0  , #00H
0006 7D90              9               LOOP: MOV R5   , #144
0008 110E             10                             ACALL DELAY
000A B290             11                             CPL P1.0
000C 80F8             12                             SJMP LOOP
                      13                             
000E 7C64             14              DELAY: MOV R4   , #100
0010 D28C             15                     L1: SETB TR0 
0012 308DFD           16               BACK: JNB  TF0, BACK
0015 C28C             17                             CLR TR0
0017 C28D             18                             CLR TF0
0019 DCF5             19                             DJNZ R4, L1
001B DDF1             20                             DJNZ R5, DELAY
001D 22               21                             RET
                      22                             
                      23                             END
A51 MACRO ASSEMBLER  TIMER                                                                10/27/2020 12:04:03 PAGE     2

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

BACK . . . . . . .  C ADDR   0012H   A   
DELAY. . . . . . .  C ADDR   000EH   A   
L1 . . . . . . . .  C ADDR   0010H   A   
LOOP . . . . . . .  C ADDR   0006H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
